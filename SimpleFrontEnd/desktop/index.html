<!DOCTYPE html>
<html>
  <head>
    <title><%= productName %></title>

    <meta charset="utf-8" />
    <meta name="description" content="<%= productDescription %>" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta
      name="viewport"
      content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width<% if (ctx.mode.cordova || ctx.mode.capacitor) { %>, viewport-fit=cover<% } %>"
    />

    <link
      rel="icon"
      type="image/png"
      sizes="128x128"
      href="icons/favicon-128x128.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="icons/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="icons/favicon-16x16.png"
    />
    <link rel="icon" type="image/ico" href="favicon.ico" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
    
    <script>
       function handleOpenURL(url) {
         const replaced = url.replace('#', '?')
         console.log("ðŸš€ ~ file: index.html:44 ~ url:", url);
         console.log("ðŸš€ ~ file: index.html:45 ~ replaced:", replaced);

        // Check if URL contains 'access_token'
        // if (url.includes('access_token')) {
        //     // Assuming the URL format is something like 'app#access_token=...&...'
        //     // Extract the part after 'app#'
        //     let strippedURL = url.split('app#')[1];
        //     if (strippedURL) {
        //         console.log("Stripped URL:", strippedURL);

        //         // Navigate to the route that handles the access token
        //         // Change '/callback' to the correct path in your app that handles the token
                // window.location.replace('/#/?' + strippedURL);
                window.location.replace(replaced);
        //     }
        // }
    }
    </script> 

    <!-- <script>
      // Add to index.js or the first page that loads with your app.
      document.addEventListener('deviceready', OneSignalInit, false);
      function OneSignalInit() {
          // Uncomment to set OneSignal device logging to VERBOSE  
          // window.plugins.OneSignal.Debug.setLogLevel(6);

          // Uncomment to set OneSignal visual logging to VERBOSE
          // window.plugins.OneSignal.Debug.setAlertLevel(6);

          
          // NOTE: Update the init value below with your OneSignal AppId.
          window.plugins.OneSignal.initialize("c9f90795-f921-4717-92b2-3dd1e9405b30");

          //Adds an event listener for clicks on notifications
          const listener = (event) => {
              const notificationData = JSON.stringify(event);
          };
          window.plugins.OneSignal.Notifications.addEventListener("click", listener);
        
          //Prompts the user for notification permissions.
          //    * Since this shows a generic native prompt, we recommend instead using an In-App Message to prompt for notification permission (See step 6) to better communicate to your users what notifications they will get.
          window.plugins.OneSignal.Notifications.requestPermission(true).then((accepted) => {
              console.log("User accepted notifications: " + accepted);
          });
      }
    </script> -->
  </head>
  <body>
    <!-- quasar:entry-point -->
  </body>
</html>
